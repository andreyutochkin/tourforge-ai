<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#3498db">
    <title>TourForge AI - –°–æ–∑–¥–∞–Ω–∏–µ 3D —Ç—É—Ä–æ–≤</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icons/icon-192.png">
</head>
<body>
    <div class="app-container">
        <!-- –≠–∫—Ä–∞–Ω –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è -->
        <div class="screen" id="welcomeScreen">
            <div class="header">
                <h1>TourForge AI</h1>
                <p>–°–æ–∑–¥–∞–π—Ç–µ 3D —Ç—É—Ä –≤–∞—à–µ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç</p>
            </div>
            
            <div class="features">
                <div class="feature-item">
                    <span class="icon">üì∏</span>
                    <p>–°–Ω–∏–º–∞–π—Ç–µ –∫–æ–º–Ω–∞—Ç—ã —Å –ø–æ–º–æ—â—å—é –∫–∞–º–µ—Ä—ã —Ç–µ–ª–µ—Ñ–æ–Ω–∞</p>
                </div>
                <div class="feature-item">
                    <span class="icon">üó∫Ô∏è</span>
                    <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ –ø–æ–º–µ—â–µ–Ω–∏—è</p>
                </div>
                <div class="feature-item">
                    <span class="icon">üéØ</span>
                    <p>–£–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
                </div>
            </div>

            <button class="btn-primary" id="startButton">–ù–∞—á–∞—Ç—å —Å—ä–µ–º–∫—É</button>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Å—ä–µ–º–∫–∏ -->
        <div class="screen" id="cameraScreen" style="display: none;">
            <div class="camera-header">
                <button class="btn-back" id="backButton">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–°—ä–µ–º–∫–∞ –ø–æ–º–µ—â–µ–Ω–∏—è</h2>
                <div class="progress-indicator">
                    <span id="currentStep">1</span>/<span id="totalSteps">5</span>
                </div>
            </div>

            <div class="camera-container">
                <video id="cameraView" autoplay playsinline></video>
                <canvas id="previewCanvas" style="display: none;"></canvas>
                
                <div class="scanning-overlay">
                    <div class="scanning-frame"></div>
                    <div class="scanning-line"></div>
                </div>

                <div class="guidance-overlay">
                    <div class="instruction-box" id="instructionBox">
                        <p>–í—Å—Ç–∞–Ω—å—Ç–µ –≤ —Ü–µ–Ω—Ç—Ä–µ –∫–æ–º–Ω–∞—Ç—ã –∏ –º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ—Å—å –Ω–∞ 360 –≥—Ä–∞–¥—É—Å–æ–≤</p>
                    </div>
                    <div class="room-label" id="roomLabel">–ì–æ—Å—Ç–∏–Ω–∞—è</div>
                </div>
            </div>

            <div class="camera-controls">
                <button class="btn-capture" id="captureButton">
                    <span class="capture-icon">üì∑</span>
                </button>
                
                <div class="capture-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <span id="progressText">0%</span>
                </div>
            </div>

            <div class="hint-container">
                <div class="hint-card">
                    <h3>–°–æ–≤–µ—Ç:</h3>
                    <p id="currentHint">–î–µ—Ä–∂–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –Ω–∞ —É—Ä–æ–≤–Ω–µ –≥—Ä—É–¥–∏ –∏ –¥–≤–∏–≥–∞–π—Ç–µ—Å—å –º–µ–¥–ª–µ–Ω–Ω–æ</p>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ -->
        <div class="screen" id="processingScreen" style="display: none;">
            <div class="processing-header">
                <h2>–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö</h2>
                <p>–ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à–∏ —Å–Ω–∏–º–∫–∏ –∏ —Å–æ–∑–¥–∞–µ—Ç –ø–ª–∞–Ω –ø–æ–º–µ—â–µ–Ω–∏—è</p>
            </div>

            <div class="processing-animation">
                <div class="ai-loader">
                    <div class="ai-brain"></div>
                    <div class="pulse-ring"></div>
                    <div class="pulse-ring delay-1"></div>
                    <div class="pulse-ring delay-2"></div>
                </div>
            </div>

            <div class="processing-steps">
                <div class="processing-step active">
                    <span class="step-number">1</span>
                    <span class="step-text">–ê–Ω–∞–ª–∏–∑ –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –ø–æ–º–µ—â–µ–Ω–∏—è</span>
                    <div class="step-progress"></div>
                </div>
                <div class="processing-step">
                    <span class="step-number">2</span>
                    <span class="step-text">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç</span>
                    <div class="step-progress"></div>
                </div>
                <div class="processing-step">
                    <span class="step-number">3</span>
                    <span class="step-text">–°–æ–∑–¥–∞–Ω–∏–µ 3D –º–æ–¥–µ–ª–∏</span>
                    <div class="step-progress"></div>
                </div>
                <div class="processing-step">
                    <span class="step-number">4</span>
                    <span class="step-text">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç—É—Ä–∞</span>
                    <div class="step-progress"></div>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
        <div class="screen" id="resultScreen" style="display: none;">
            <div class="result-header">
                <h2>–ü–ª–∞–Ω –ø–æ–º–µ—â–µ–Ω–∏—è –≥–æ—Ç–æ–≤!</h2>
                <p>–í–∞—à 3D —Ç—É—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω</p>
            </div>

            <div class="floor-plan-container">
                <canvas id="floorPlanCanvas" width="400" height="400"></canvas>
                <div class="room-labels" id="roomLabels"></div>
            </div>

            <div class="room-list" id="roomList">
                <h3>–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è:</h3>
                <div class="rooms-container">
                    <!-- –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn-secondary" id="editPlanButton">
                    <span class="btn-icon">‚úèÔ∏è</span>
                    –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–Ω
                </button>
                <button class="btn-primary" id="viewTourButton">
                    <span class="btn-icon">üëÅÔ∏è</span>
                    –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å 3D —Ç—É—Ä
                </button>
                <button class="btn-share" id="shareButton">
                    <span class="btn-icon">üì§</span>
                    –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                </button>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div class="modal" id="editModal" style="display: none;">
            <div class="modal-content">
                <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–∞</h3>
                <div class="edit-tools">
                    <button class="edit-tool active" data-tool="select">–í—ã–±–æ—Ä</button>
                    <button class="edit-tool" data-tool="wall">–°—Ç–µ–Ω—ã</button>
                    <button class="edit-tool" data-tool="door">–î–≤–µ—Ä–∏</button>
                    <button class="edit-tool" data-tool="label">–ü–æ–¥–ø–∏—Å–∏</button>
                </div>
                <div class="edit-area">
                    <canvas id="editCanvas" width="400" height="400"></canvas>
                </div>
                <div class="modal-actions">
                    <button class="btn-secondary" id="cancelEdit">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn-primary" id="saveEdit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä–æ–π -->
    <div class="camera-settings" style="display: none;">
        <button id="switchCamera">üîÑ</button>
        <button id="toggleFlash">‚ö°</button>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- –ê—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <audio id="instructionSound" preload="auto"></audio>
    <audio id="captureSound" preload="auto"></audio>
    <audio id="successSound" preload="auto"></audio>

    <script src="script.js"></script>
</body>
</html>
